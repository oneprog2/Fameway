(this["webpackJsonpfameway-admin"]=this["webpackJsonpfameway-admin"]||[]).push([[4],{103:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(70),a=Object(n.atom)(null)},105:function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return p}));var n=r(113),a=r.n(n),i=r(121),o=r(43),c={fontFamily:"'DM Sans', sans-serif",body1:{fontWeight:400},h1:{fontWeight:500,fontSize:"1.875rem",lineHeight:"1.5"},h2:{fontWeight:500,fontSize:"1.5rem",lineHeight:"1.5"},h3:{fontWeight:500,fontSize:"1.3125rem",lineHeight:"1.5"},h4:{fontWeight:500,fontSize:"1.125rem",lineHeight:"1.5"},h5:{fontWeight:500,fontSize:"1rem",lineHeight:"1.5"},h6:{fontWeight:500,fontSize:"0.875rem",lineHeight:"1.5"},button:{textTransform:"none",fontWeight:"400"},subtitle1:{fontSize:"1rem",fontWeight:"400"},subtitle2:{fontSize:"0.875rem",fontWeight:"400"}},d={MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{height:"100%",width:"100%"},body:{height:"100%",margin:0,padding:0},"#root":{height:"100%"},"*[dir='rtl'] .buyNowImg":{transform:"scaleX(-1)"},".buyNowImg":{position:"absolute",right:"-44px",top:"-18px",width:"143px",height:"175px"},".MuiCardHeader-action":{alignSelf:"center !important"},".scrollbar-container":{borderRight:"0 !important"},"*[dir='rtl'] .welcomebg:before":{backgroundPosition:"top -24px left -9px !important"}}},MuiContainer:{styleOverrides:{root:{paddingLeft:"15px !important",paddingRight:"15px !important",maxWidth:"1600px"}}},MuiButton:{styleOverrides:{root:{textTransform:"none",boxShadow:"none",fontSize:"15px","&:hover":{boxShadow:"none"}}}},MuiListItem:{styleOverrides:{root:{borderRadius:"9px"}}},MuiCard:{styleOverrides:{root:{borderRadius:"20px",padding:"14px",margin:"15px",boxShadow:"0px 7px 30px 0px rgba(90, 114, 123, 0.11)"}}},MuiListItemIcon:{styleOverrides:{root:{minWidth:"40px"}}},MuiGridItem:{styleOverrides:{root:{paddingTop:"30px",paddingLeft:"30px !important"}}},MuiLinearProgress:{styleOverrides:{root:{backgroundColor:"#ecf0f2",borderRadius:"6px"}}},MuiMenuItem:{styleOverrides:{root:{borderRadius:"0"}}},MuiChip:{styleOverrides:{root:{fontWeight:"500",fontSize:"0.75rem"}}}},s=["none","0px 2px 3px rgba(0,0,0,0.10)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","1px 2px 10px rgba(0,0,0,0.08)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],b=r(45),p=265,u=70,f={direction:"ltr",palette:{primary:{main:"#1a97f5",light:"#e6f4ff",dark:"#1682d4"},secondary:{main:"#1e4db7",light:"#ddebff",dark:"#173f98"},success:{main:"#00c292",light:"#ebfaf2",dark:"#00964b",contrastText:"#ffffff"},danger:{main:"#e46a76",light:"#fdf3f5"},info:{main:"#0bb2fb",light:"#a7e3f4"},error:{main:"#e46a76",light:"#fdf3f5",dark:"#e45a68"},warning:{main:"#fec90f",light:"#fff4e5",dark:"#dcb014",contrastText:"#ffffff"},text:{secondary:"#777e89",danger:"#fc4b6c"},grey:{A100:"#ecf0f2",A200:"#99abb4",A400:"#767e89",A700:"#e6f4ff"},action:{disabledBackground:"rgba(73,82,88,0.12)",hoverOpacity:.02,hover:"rgba(0, 0, 0, 0.03)"}},shape:{borderRadius:5},mixins:{toolbar:{color:"#949db2","@media(min-width:1280px)":{minHeight:u,padding:"0 30px"},"@media(max-width:1280px)":{minHeight:"64px"}}},status:{danger:"#e53e3e"},components:d,typography:c,shadows:s},l=[{name:b.a,palette:{primary:{main:"#222222",light:"#222222",dark:"#444444"},secondary:{main:"#e6e6e6",light:"#e6e6e6",dark:"#e6e6e6"}}}],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.find((function(t){return t.name===e.theme})),r=Object(o.c)((function(e){return e.CustomizerReducer})),n={palette:{mode:r.activeMode,background:{default:"dark"===r.activeMode?"#20232a":"#fafbfb",dark:"dark"===r.activeMode?"#1c2025":"#ffffff",paper:"dark"===r.activeMode?"#282C34":"#ffffff"},text:{primary:"dark"===r.activeMode?"#e6e5e8":"rgba(0, 0, 0, 0.87)",secondary:"dark"===r.activeMode?"#adb0bb":"#777e89"}}};t||(console.warn(new Error("The theme ".concat(e.theme," is not valid"))),t=l[0]);var c=Object(i.a)(a.a.merge({},f,n,t,{direction:e.direction}));return c}},109:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d}));var n,a,i=r(91),o=r(125),c=Object(o.a)(n||(n=Object(i.a)(["\n  query GetCurrentUser($email: String!) {\n    user(where: { email: { _eq: $email } }) {\n      username\n      id\n      firstOpening\n      stores {\n        id\n        name\n      }\n    }\n  }\n"]))),d=Object(o.a)(a||(a=Object(i.a)(["\n  query getStore($storeID: uuid!) {\n    store_by_pk(id: $storeID) {\n      id\n      name\n      articles {\n        id\n        name\n        price\n        articlePictures\n      }\n    }\n  }\n"])))},141:function(e,t,r){},149:function(e,t,r){"use strict";r.r(t);var n=r(13),a=r(19),i=r(0),o=r(71),c=r.n(o),d=r(69),s=r(43),b=r(11),p=r(5),u=r(173),f=r(168),l=r(64),x=r(27),g=r(111),h=r(7),m=function(e){var t=e.children,r=e.direction;return Object(i.useEffect)((function(){document.dir=r}),[r]),"rtl"===r?Object(h.jsx)(x.a,{value:Object(l.a)({key:"rtl",prepend:!0,stylisPlugins:[g.a]}),children:t}):Object(h.jsx)(h.Fragment,{children:t})},j=r(105),O=function(){var e=Object(s.c)((function(e){return e.CustomizerReducer})),t=Object(j.a)({direction:e.activeDir,theme:e.activeTheme});return Object(i.useEffect)((function(){document.dir=e.activeDir}),[e]),t},v=r(26),y=r(74),w=function(e){return function(t){return Object(h.jsx)(i.Suspense,{fallback:Object(h.jsx)(y.a,{}),children:Object(h.jsx)(e,Object(v.a)({},t))})}},k=w(Object(i.lazy)((function(){return Promise.all([r.e(0),r.e(2),r.e(8),r.e(11)]).then(r.bind(null,345))}))),S=w(Object(i.lazy)((function(){return r.e(12).then(r.bind(null,340))}))),M=w(Object(i.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(10)]).then(r.bind(null,341))}))),z=w(Object(i.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(9)]).then(r.bind(null,342))}))),T=w(Object(i.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(3),r.e(7)]).then(r.bind(null,347))}))),R=[{path:"/",element:Object(h.jsx)(k,{}),children:[{path:"/",element:Object(h.jsx)(p.a,{to:"/dashboard/starter"})},{path:"/dashboard/starter",exact:!0,element:Object(h.jsx)(z,{})},{path:"*",element:Object(h.jsx)(p.a,{to:"/auth/404"})}]},{path:"/auth",element:Object(h.jsx)(S,{}),children:[{path:"404",element:Object(h.jsx)(M,{})},{path:"*",element:Object(h.jsx)(p.a,{to:"/auth/404"})}]},{path:"/setup",element:Object(h.jsx)(k,{hideSidebar:!0}),children:[{path:"store",element:Object(h.jsx)(T,{})}]}],C=(r(142),r(49)),E=r(175),W=r(109),I=r(103),B=r(70),D=function(){var e=Object(p.p)(R),t=O(),r=Object(s.c)((function(e){return e.CustomizerReducer})),n=Object(C.b)(),a=n.isLoading,o=n.loginWithRedirect,c=n.isAuthenticated,d=Object(i.useState)(!0),l=Object(b.a)(d,2),x=l[0],g=l[1],j=Object(C.b)().user,v=Object(E.a)(W.a,{variables:{email:null===j||void 0===j?void 0:j.email}}),y=v.data,w=(v.error,Object(B.useAtom)(I.a)),k=Object(b.a)(w,2),S=k[0],M=k[1];return Object(i.useEffect)((function(){if(c||a)if(c&&!a&&null!==y&&void 0!==y&&y.user&&null===S){var e,t=null===y||void 0===y?void 0:y.user[0];M({id:t.id,username:t.username,firstname:t.firstname,lastname:t.lastname,firstOpening:t.firstOpening,storeID:null===(e=t.stores)||void 0===e?void 0:e[0].id})}else null!==S&&void 0!==S&&S.firstOpening&&"/setup/store"!==window.location.pathname?window.location.href="/setup/store":g(!1);else o()}),[M,null===y||void 0===y?void 0:y.user,c,a,o,S,y]),Object(i.useEffect)((function(){}),[S]),x?Object(h.jsx)("div",{children:"Chargement ..."}):Object(h.jsx)(u.a,{theme:t,children:Object(h.jsxs)(m,{direction:r.activeDir,children:[Object(h.jsx)(f.a,{}),e]})})},A=r(59),H=r(117),N=r(116),L=r(45),P={activeDir:"ltr",activeNavbarBg:"#0b70fb",activeSidebarBg:"#ffffff",activeMode:"light",activeTheme:"ORANGE_THEME",SidebarWidth:240},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.d:return Object(v.a)(Object(v.a)({},e),{},{activeNavbarBg:t.payload});case L.b:return Object(v.a)(Object(v.a)({},e),{},{activeMode:t.payload});case L.e:return Object(v.a)(Object(v.a)({},e),{},{activeSidebarBg:t.payload});case L.f:return Object(v.a)(Object(v.a)({},e),{},{activeTheme:t.payload});case L.c:return Object(v.a)(Object(v.a)({},e),{},{activeDir:t.payload});default:return e}},F=Object(A.combineReducers)({CustomizerReducer:_});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G,$=function(e){e&&e instanceof Function&&r.e(13).then(r.bind(null,343)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),i(e),o(e)}))},q=r(118),U=r(120),J=r(171),K=r(172),X=r(170),V=function(e){var t=e.children,r=Object(C.b)(),i=r.getAccessTokenSilently,o=r.isAuthenticated,c=Object(U.a)({uri:"https://fameway.hasura.app/v1/graphql"}),d=Object(q.a)(Object(a.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=7;break}return e.next=3,i();case 3:return t=e.sent,e.abrupt("return",{headers:{Authorization:"Bearer ".concat(t)}});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})))),s=new J.a({link:d.concat(c),cache:new K.a,connectToDevTools:!0});return Object(h.jsx)(X.a,{client:s,children:t})};c.a.render(Object(h.jsx)(C.a,{domain:"auth.fameway.co",clientId:"fvFanDY5XxF2Op7kITivNKSox5mv6e6M",redirectUri:window.location.origin,cacheLocation:"localstorage",audience:"fameway-admin",error:console.log,children:Object(h.jsx)(V,{children:Object(h.jsx)(s.a,{store:Object(A.createStore)(F,G,Object(N.composeWithDevTools)(Object(A.applyMiddleware)(H.a))),children:Object(h.jsx)(i.Suspense,{fallback:Object(h.jsx)(y.a,{}),children:Object(h.jsx)(d.a,{children:Object(h.jsx)(D,{})})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),$()},45:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"f",(function(){return a})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return d}));var n="DARK_THEME",a="THEME_COLOR",i="NAVBAR_BG",o="SIDEBAR_BG",c="DIRECTION",d="BLUE_THEME"},74:function(e,t,r){"use strict";r(0),r(141);var n=r(7);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading component-loader",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}}},[[149,5,6]]]);
//# sourceMappingURL=main.1bf3eea1.chunk.js.map